<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cheat Sheet - Backend Python</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.2em;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #667eea;
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 10px 0;
        }

        .inline-code {
            background: #f1f1f1;
            color: #e83e8c;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9em;
        }

        th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
        }

        td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
        }

        tr:hover {
            background: #f1f1f1;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin-right: 5px;
        }

        .badge.get { background: #2ecc71; color: white; }
        .badge.post { background: #f39c12; color: white; }
        .badge.put { background: #3498db; color: white; }
        .badge.delete { background: #e74c3c; color: white; }
        .badge.patch { background: #9b59b6; color: white; }

        .status {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.85em;
        }

        .status-200 { background: #d4edda; color: #155724; }
        .status-201 { background: #cce5ff; color: #004085; }
        .status-400 { background: #fff3cd; color: #856404; }
        .status-404 { background: #f8d7da; color: #721c24; }

        ul {
            margin: 10px 0 10px 20px;
        }

        li {
            margin: 8px 0;
        }

        .highlight {
            background: #ffeb3b;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }

        .section {
            margin: 40px 0;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìã Cheat Sheet - Backend Python</h1>
        <p class="subtitle">Referencia r√°pida de Flask, FastAPI y APIs REST</p>

        <!-- COMANDOS B√ÅSICOS -->
        <div class="section">
            <h2 style="color: #2c3e50; border-bottom: 3px solid #667eea; padding-bottom: 10px; margin-bottom: 25px;">
                üíª Comandos B√°sicos
            </h2>
            
            <div class="grid">
                <div class="card">
                    <h2>üîß Instalaci√≥n</h2>
                    <div class="code"># Crear entorno virtual
python -m venv venv

# Activar (Windows)
venv\Scripts\activate

# Activar (Mac/Linux)
source venv/bin/activate

# Instalar dependencias
pip install -r requirements.txt</div>
                </div>

                <div class="card">
                    <h2>üöÄ Ejecutar Servidores</h2>
                    <div class="code"># Flask
python app_flask.py
# ‚Üí http://localhost:5000

# FastAPI
uvicorn app_fastapi:app --reload
# ‚Üí http://localhost:8000

# FastAPI (puerto diferente)
uvicorn app_fastapi:app --port 8001</div>
                </div>

                <div class="card">
                    <h2>üß™ Probar API</h2>
                    <div class="code"># Con cURL (GET)
curl http://localhost:8000/libros

# Con cURL (POST)
curl -X POST http://localhost:8000/libros \
  -H "Content-Type: application/json" \
  -d '{"titulo":"Libro","isbn":"123",...}'

# Con Python
python ejemplo_pruebas.py</div>
                </div>

                <div class="card">
                    <h2>üì¶ Librer√≠as</h2>
                    <div class="code"># Instalar Flask
pip install flask

# Instalar FastAPI
pip install fastapi uvicorn

# Instalar Requests (pruebas)
pip install requests

# Listar instaladas
pip list</div>
                </div>
            </div>
        </div>

        <!-- ENDPOINTS -->
        <div class="section">
            <h2 style="color: #2c3e50; border-bottom: 3px solid #667eea; padding-bottom: 10px; margin-bottom: 25px;">
                üåê Endpoints de la API
            </h2>

            <table>
                <thead>
                    <tr>
                        <th>M√©todo</th>
                        <th>Endpoint</th>
                        <th>Descripci√≥n</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge get">GET</span></td>
                        <td><span class="inline-code">/</span></td>
                        <td>Informaci√≥n de la API</td>
                        <td><span class="status status-200">200</span></td>
                    </tr>
                    <tr>
                        <td><span class="badge get">GET</span></td>
                        <td><span class="inline-code">/libros</span></td>
                        <td>Obtener todos los libros</td>
                        <td><span class="status status-200">200</span></td>
                    </tr>
                    <tr>
                        <td><span class="badge get">GET</span></td>
                        <td><span class="inline-code">/libros/{isbn}</span></td>
                        <td>Obtener un libro espec√≠fico</td>
                        <td><span class="status status-200">200</span></td>
                    </tr>
                    <tr>
                        <td><span class="badge post">POST</span></td>
                        <td><span class="inline-code">/libros</span></td>
                        <td>Crear un nuevo libro</td>
                        <td><span class="status status-201">201</span></td>
                    </tr>
                    <tr>
                        <td><span class="badge put">PUT</span></td>
                        <td><span class="inline-code">/libros/{isbn}</span></td>
                        <td>Actualizar libro completo</td>
                        <td><span class="status status-200">200</span></td>
                    </tr>
                    <tr>
                        <td><span class="badge patch">PATCH</span></td>
                        <td><span class="inline-code">/libros/{isbn}</span></td>
                        <td>Actualizar parcialmente (FastAPI)</td>
                        <td><span class="status status-200">200</span></td>
                    </tr>
                    <tr>
                        <td><span class="badge delete">DELETE</span></td>
                        <td><span class="inline-code">/libros/{isbn}</span></td>
                        <td>Eliminar un libro</td>
                        <td><span class="status status-200">200</span></td>
                    </tr>
                    <tr>
                        <td><span class="badge post">POST</span></td>
                        <td><span class="inline-code">/libros/{isbn}/prestar</span></td>
                        <td>Prestar un libro</td>
                        <td><span class="status status-200">200</span></td>
                    </tr>
                    <tr>
                        <td><span class="badge post">POST</span></td>
                        <td><span class="inline-code">/libros/{isbn}/devolver</span></td>
                        <td>Devolver un libro</td>
                        <td><span class="status status-200">200</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- C√ìDIGO FLASK -->
        <div class="section">
            <h2 style="color: #2c3e50; border-bottom: 3px solid #e74c3c; padding-bottom: 10px; margin-bottom: 25px;">
                üî¥ Flask - Ejemplos de C√≥digo
            </h2>

            <div class="grid">
                <div class="card">
                    <h2>Estructura B√°sica</h2>
                    <div class="code">from flask import Flask, jsonify

app = Flask(__name__)

@app.route('/')
def home():
    return jsonify({"mensaje": "Hola"})

if __name__ == '__main__':
    app.run(debug=True, port=5000)</div>
                </div>

                <div class="card">
                    <h2>GET - Obtener datos</h2>
                    <div class="code">@app.route('/libros', methods=['GET'])
def obtener_libros():
    lista = [libro_to_dict(l) for l in libros]
    return jsonify(lista)</div>
                </div>

                <div class="card">
                    <h2>POST - Crear recurso</h2>
                    <div class="code">@app.route('/libros', methods=['POST'])
def crear_libro():
    data = request.get_json()
    nuevo_libro = Libro(
        data['titulo'],
        data['isbn'],
        # ...
    )
    libros.append(nuevo_libro)
    return jsonify({"ok": True}), 201</div>
                </div>

                <div class="card">
                    <h2>DELETE - Eliminar</h2>
                    <div class="code">@app.route('/libros/&lt;isbn&gt;', methods=['DELETE'])
def eliminar_libro(isbn):
    libro = buscar_libro(isbn)
    if not libro:
        return jsonify({"error": "404"}), 404
    
    libros.remove(libro)
    return jsonify({"ok": True})</div>
                </div>
            </div>
        </div>

        <!-- C√ìDIGO FASTAPI -->
        <div class="section">
            <h2 style="color: #2c3e50; border-bottom: 3px solid #2ecc71; padding-bottom: 10px; margin-bottom: 25px;">
                üü¢ FastAPI - Ejemplos de C√≥digo
            </h2>

            <div class="grid">
                <div class="card">
                    <h2>Estructura B√°sica</h2>
                    <div class="code">from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class LibroInput(BaseModel):
    titulo: str
    isbn: str
    # ...

@app.get("/")
async def root():
    return {"mensaje": "Hola"}</div>
                </div>

                <div class="card">
                    <h2>GET - Obtener datos</h2>
                    <div class="code">@app.get("/libros")
async def obtener_libros():
    lista = [libro_to_dict(l) for l in libros]
    return lista

@app.get("/libros/{isbn}")
async def obtener_libro(isbn: str):
    libro = buscar_libro(isbn)
    if not libro:
        raise HTTPException(404)
    return libro_to_dict(libro)</div>
                </div>

                <div class="card">
                    <h2>POST - Crear recurso</h2>
                    <div class="code">@app.post("/libros", status_code=201)
async def crear_libro(libro: LibroInput):
    nuevo_libro = Libro(
        libro.titulo,
        libro.isbn,
        # ...
    )
    libros.append(nuevo_libro)
    return libro_to_dict(nuevo_libro)</div>
                </div>

                <div class="card">
                    <h2>PATCH - Actualizaci√≥n parcial</h2>
                    <div class="code">class LibroUpdate(BaseModel):
    titulo: Optional[str] = None
    autor: Optional[str] = None

@app.patch("/libros/{isbn}")
async def actualizar(isbn: str, 
                    datos: LibroUpdate):
    libro = buscar_libro(isbn)
    if datos.titulo:
        libro.title = datos.titulo
    return libro_to_dict(libro)</div>
                </div>
            </div>
        </div>

        <!-- C√ìDIGOS HTTP -->
        <div class="section">
            <h2 style="color: #2c3e50; border-bottom: 3px solid #667eea; padding-bottom: 10px; margin-bottom: 25px;">
                üìä C√≥digos de Estado HTTP
            </h2>

            <div class="grid">
                <div class="card">
                    <h2>‚úÖ 2xx - √âxito</h2>
                    <table>
                        <tr>
                            <td><strong>200</strong></td>
                            <td>OK - Solicitud exitosa</td>
                        </tr>
                        <tr>
                            <td><strong>201</strong></td>
                            <td>Created - Recurso creado</td>
                        </tr>
                        <tr>
                            <td><strong>204</strong></td>
                            <td>No Content - Sin contenido</td>
                        </tr>
                    </table>
                </div>

                <div class="card">
                    <h2>‚ùå 4xx - Errores del Cliente</h2>
                    <table>
                        <tr>
                            <td><strong>400</strong></td>
                            <td>Bad Request - Datos inv√°lidos</td>
                        </tr>
                        <tr>
                            <td><strong>404</strong></td>
                            <td>Not Found - No encontrado</td>
                        </tr>
                        <tr>
                            <td><strong>422</strong></td>
                            <td>Validation Error - Error validaci√≥n</td>
                        </tr>
                    </table>
                </div>

                <div class="card full-width">
                    <h2>‚ö†Ô∏è 5xx - Errores del Servidor</h2>
                    <table>
                        <tr>
                            <td><strong>500</strong></td>
                            <td>Internal Server Error - Error interno del servidor</td>
                        </tr>
                        <tr>
                            <td><strong>503</strong></td>
                            <td>Service Unavailable - Servicio no disponible</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <!-- JSON EJEMPLOS -->
        <div class="section">
            <h2 style="color: #2c3e50; border-bottom: 3px solid #667eea; padding-bottom: 10px; margin-bottom: 25px;">
                üìÑ Ejemplos de JSON
            </h2>

            <div class="grid">
                <div class="card">
                    <h2>Libro (Response)</h2>
                    <div class="code">{
  "isbn": "978-0-307-47472-3",
  "titulo": "Cien A√±os de Soledad",
  "autor": "Gabriel Garc√≠a M√°rquez",
  "anio": 1967,
  "paginas": 417,
  "disponible": true
}</div>
                </div>

                <div class="card">
                    <h2>Crear Libro (Request)</h2>
                    <div class="code">{
  "titulo": "El Principito",
  "isbn": "978-0-15-601219-1",
  "autor": "Antoine de Saint-Exup√©ry",
  "anio": 1943,
  "paginas": 96,
  "disponible": true
}</div>
                </div>

                <div class="card">
                    <h2>Lista de Libros</h2>
                    <div class="code">{
  "total": 3,
  "libros": [
    {
      "isbn": "978-...",
      "titulo": "Libro 1",
      ...
    },
    {
      "isbn": "978-...",
      "titulo": "Libro 2",
      ...
    }
  ]
}</div>
                </div>

                <div class="card">
                    <h2>Error (Response)</h2>
                    <div class="code">{
  "error": "Libro no encontrado",
  "detail": "No existe libro con ISBN 123",
  "status_code": 404
}</div>
                </div>
            </div>
        </div>

        <!-- TIPS Y TRUCOS -->
        <div class="section">
            <h2 style="color: #2c3e50; border-bottom: 3px solid #667eea; padding-bottom: 10px; margin-bottom: 25px;">
                üí° Tips y Trucos
            </h2>

            <div class="grid">
                <div class="card">
                    <h2>üêõ Debugging</h2>
                    <ul>
                        <li>Flask: <span class="inline-code">debug=True</span></li>
                        <li>FastAPI: <span class="inline-code">--reload</span></li>
                        <li>Ver logs en la terminal</li>
                        <li>Usar <span class="inline-code">print()</span> para debug</li>
                    </ul>
                </div>

                <div class="card">
                    <h2>üîß Soluci√≥n de Problemas</h2>
                    <ul>
                        <li><strong>Puerto ocupado:</strong> Cambiar puerto</li>
                        <li><strong>M√≥dulo no encontrado:</strong> pip install</li>
                        <li><strong>CORS:</strong> flask-cors / fastapi middleware</li>
                        <li><strong>Datos vac√≠os:</strong> Verificar Content-Type</li>
                    </ul>
                </div>

                <div class="card">
                    <h2>‚ö° Mejores Pr√°cticas</h2>
                    <ul>
                        <li>Usar entorno virtual</li>
                        <li>Validar datos de entrada</li>
                        <li>Devolver c√≥digos HTTP correctos</li>
                        <li>Documentar endpoints</li>
                        <li>Manejar errores apropiadamente</li>
                    </ul>
                </div>

                <div class="card">
                    <h2>üîê Seguridad</h2>
                    <ul>
                        <li>Nunca exponer datos sensibles</li>
                        <li>Usar HTTPS en producci√≥n</li>
                        <li>Validar todos los inputs</li>
                        <li>Implementar autenticaci√≥n (JWT)</li>
                        <li>Rate limiting para prevenir abuso</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- RECURSOS -->
        <div class="section">
            <h2 style="color: #2c3e50; border-bottom: 3px solid #667eea; padding-bottom: 10px; margin-bottom: 25px;">
                üìö Recursos y Enlaces
            </h2>

            <div class="grid">
                <div class="card">
                    <h2>üìñ Documentaci√≥n</h2>
                    <ul>
                        <li><a href="https://flask.palletsprojects.com/" target="_blank">Flask Docs</a></li>
                        <li><a href="https://fastapi.tiangolo.com/" target="_blank">FastAPI Docs</a></li>
                        <li><a href="https://docs.python.org/es/" target="_blank">Python Docs</a></li>
                        <li><a href="https://restfulapi.net/" target="_blank">REST API Guide</a></li>
                    </ul>
                </div>

                <div class="card">
                    <h2>üõ†Ô∏è Herramientas</h2>
                    <ul>
                        <li><a href="https://www.postman.com/" target="_blank">Postman</a> - Testing API</li>
                        <li><a href="https://insomnia.rest/" target="_blank">Insomnia</a> - Cliente REST</li>
                        <li><a href="https://httpie.io/" target="_blank">HTTPie</a> - CLI HTTP</li>
                        <li><a href="https://swagger.io/" target="_blank">Swagger</a> - Docs API</li>
                    </ul>
                </div>

                <div class="card">
                    <h2>üìù Archivos del Proyecto</h2>
                    <ul>
                        <li><strong>tutorial.html</strong> - Tutorial completo</li>
                        <li><strong>instrucciones_visuales.html</strong> - Gu√≠a paso a paso</li>
                        <li><strong>README.md</strong> - Documentaci√≥n</li>
                        <li><strong>ejemplos_curl.md</strong> - Comandos cURL</li>
                    </ul>
                </div>

                <div class="card">
                    <h2>üéì Para Aprender M√°s</h2>
                    <ul>
                        <li>Real Python - Tutoriales</li>
                        <li>FreeCodeCamp - Cursos</li>
                        <li>YouTube - Videos tutoriales</li>
                        <li>Stack Overflow - Comunidad</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- PIE DE P√ÅGINA -->
        <div style="text-align: center; margin-top: 60px; padding: 30px; background: #f8f9fa; border-radius: 10px;">
            <p style="color: #7f8c8d; font-size: 1.1em;">
                üí° <strong>Tip:</strong> Guarda esta p√°gina como PDF (Ctrl/Cmd + P) para tenerla siempre disponible
            </p>
            <p style="margin-top: 20px; color: #95a5a6; font-size: 0.9em;">
                SENA 2025 - Ficha 3287281 - Backend Python con Flask y FastAPI
            </p>
        </div>
    </div>
</body>
</html>

